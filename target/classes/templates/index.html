<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <title>主页</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous"
          onerror="this.onerror=null;this.href='css/bootstrap.min.css';">
    <!-- Bootstrap 图标 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css"
          onerror="this.onerror=null;">
    <!-- 已有的本地引用保留作为备选 -->
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet" id="bootstrap-local" disabled>
    <!-- Bootstrap 图标 本地链接 -->
    <link rel="stylesheet" th:href="@{/css/bootstrap-icons.css}" id="bootstrap-icons-local" disabled>
    <!-- 自定义样式 -->
    <link rel="stylesheet" th:href="@{/css/styles.css}">

</head>

<body class="d-flex flex-column min-vh-100">
<!-- 导航栏 (固定定位并偏移) -->
<nav th:insert="~{commons/commons :: navbar}"
     style=" top: 0; left: 100px; right: 0;"></nav>
<!-- 主要内容  -->
<main class="flex-grow-1 main-container">
    <div id="main-content">
        <!-- 主页面内容 -->
        <div class="container-fluid mt-3">
            <!-- 轮播图 -->
            <div class="row mb-4">
                <div class="col-12">
                    <div id="homeCarousel" class="carousel slide" data-bs-ride="carousel">
                        <div class="carousel-indicators">
                            <button type="button" data-bs-target="#homeCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                            <button type="button" data-bs-target="#homeCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
                            <button type="button" data-bs-target="#homeCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
                        </div>
                        <div class="carousel-inner rounded">
                            <div class="carousel-item active">
                                <img th:src="@{/img/新学季海报.png}" class="d-block w-100" alt="促销活动">
                                <div class="carousel-caption d-none d-md-block">
                                    <h5>限时特惠活动</h5>
                                    <p>全场商品低至5折，优惠多多！</p>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <img th:src="@{/img/男人的衣柜.png}" class="d-block w-100" alt="新品上市">
                                <div class="carousel-caption d-none d-md-block">
                                    <h5>新品上市</h5>
                                    <p>最新时尚单品，限量发售中！</p>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <img th:src="@{/img/打折.png}" class="d-block w-100" alt="新用户专享">
                                <div class="carousel-caption d-none d-md-block">
                                    <h5>新用户专享优惠</h5>
                                    <p>新用户专享价，更多惊喜等你发现！</p>
                                </div>
                            </div>
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#homeCarousel" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">上一个</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#homeCarousel" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">下一个</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- 快速分类区 -->
            <div class="row mb-4">
                <div class="col-12">
                    <h3 class="border-bottom pb-2">快速浏览</h3>
                </div>
                <div class="col-md-2 col-4 mb-3 text-center">
                    <div class="quick-category p-2">
                        <form th:action="@{/u/goproduct}" method="get" class="text-decoration-none">
                            <input type="hidden" name="category" value="2"/>
                            <button type="submit" class="border-0 bg-transparent p-0 w-100">
                                <div class="rounded-circle bg-light d-flex align-items-center justify-content-center mx-auto"
                                     style="width: 80px; height: 80px;">
                                    <i class="bi bi-phone text-primary" style="font-size: 2rem;"></i>
                                </div>
                                <p class="mt-2 mb-0">手机数码</p>
                            </button>
                        </form>
                    </div>
                </div>
                <div class="col-md-2 col-4 mb-3 text-center">
                    <div class="quick-category p-2">
                        <form th:action="@{/u/goproduct}" method="get" class="text-decoration-none">
                            <input type="hidden" name="category" value="3"/>
                            <button type="submit" class="border-0 bg-transparent p-0 w-100">
                                <div class="rounded-circle bg-light d-flex align-items-center justify-content-center mx-auto"
                                     style="width: 80px; height: 80px;">
                                    <i class="bi bi-laptop text-success" style="font-size: 2rem;"></i>
                                </div>
                                <p class="mt-2 mb-0">电脑办公</p>
                            </button>
                        </form>
                    </div>
                </div>
                <div class="col-md-2 col-4 mb-3 text-center">
                    <div class="quick-category p-2">
                        <form th:action="@{/u/goproduct}" method="get" class="text-decoration-none">
                            <input type="hidden" name="category" value="4"/>
                            <button type="submit" class="border-0 bg-transparent p-0 w-100">
                                <div class="rounded-circle bg-light d-flex align-items-center justify-content-center mx-auto"
                                     style="width: 80px; height: 80px;">
                                    <i class="bi bi-controller text-danger" style="font-size: 2rem;"></i>
                                </div>
                                <p class="mt-2 mb-0">游戏娱乐</p>
                            </button>
                        </form>
                    </div>
                </div>
                <div class="col-md-2 col-4 mb-3 text-center">
                    <div class="quick-category p-2">
                        <form th:action="@{/u/goproduct}" method="get" class="text-decoration-none">
                            <input type="hidden" name="category" value="5"/>
                            <button type="submit" class="border-0 bg-transparent p-0 w-100">
                                <div class="rounded-circle bg-light d-flex align-items-center justify-content-center mx-auto"
                                     style="width: 80px; height: 80px;">
                                    <i class="bi bi-earbuds text-warning" style="font-size: 2rem;"></i>
                                </div>
                                <p class="mt-2 mb-0">音频设备</p>
                            </button>
                        </form>
                    </div>
                </div>
                <div class="col-md-2 col-4 mb-3 text-center">
                    <div class="quick-category p-2">
                        <form th:action="@{/u/goproduct}" method="get" class="text-decoration-none">
                            <input type="hidden" name="category" value="7"/>
                            <button type="submit" class="border-0 bg-transparent p-0 w-100">
                                <div class="rounded-circle bg-light d-flex align-items-center justify-content-center mx-auto"
                                     style="width: 80px; height: 80px;">
                                    <i class="bi bi-watch text-info" style="font-size: 2rem;"></i>
                                </div>
                                <p class="mt-2 mb-0">智能穿戴</p>
                            </button>
                        </form>
                    </div>
                </div>
                <div class="col-md-2 col-4 mb-3 text-center">
                    <div class="quick-category p-2">
                        <a th:href="@{/u/goproduct}" class="text-decoration-none">
                            <div class="rounded-circle bg-light d-flex align-items-center justify-content-center mx-auto" style="width: 80px; height: 80px;">
                                <i class="bi bi-basket text-secondary" style="font-size: 2rem;"></i>
                            </div>
                            <p class="mt-2 mb-0">更多分类</p>
                        </a>
                    </div>
                </div>
            </div>

            <!-- 热门商品区域 -->
            <div class="row mb-4">
                <div class="col-12">
                    <h3 class="border-bottom pb-2 d-flex justify-content-between align-items-center">
                        <span>热门商品</span>
                        <a th:href="@{/u/goproduct}" class="btn btn-primary px-4 d-flex align-items-center">查看更多</a>
                    </h3>
                </div>
            </div>
            <div class="row">
                <!-- 商品卡片示例 -->
                <div class="col-md-3 mb-4">
                    <div class="card h-100 position-relative">
                        <span class="badge-sale">限时特惠</span>
                        <img src="https://via.placeholder.com/300x200" class="card-img-top" alt="商品图片">
                        <div class="card-body">
                            <h5 class="card-title">高端智能手机</h5>
                            <p class="card-text">最新款智能手机，性能强大，拍照清晰...</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <p class="text-danger fw-bold mb-0">¥ 2999.00</p>
                                <small class="text-muted text-decoration-line-through">¥ 3699.00</small>
                            </div>
                            <div class="d-flex justify-content-between align-items-center mt-3">
                                <button class="btn btn-primary btn-sm"><i class="bi bi-cart-plus"></i> 加入购物车</button>
                                <a href="#" class="btn btn-outline-secondary btn-sm"><i class="bi bi-heart"></i></a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-3 mb-4">
                    <div class="card h-100">
                        <img src="https://via.placeholder.com/300x200" class="card-img-top" alt="商品图片">
                        <div class="card-body">
                            <h5 class="card-title">无线蓝牙耳机</h5>
                            <p class="card-text">高品质音效，超长续航，舒适佩戴体验...</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <p class="text-danger fw-bold mb-0">¥ 199.00</p>
                                <small class="text-muted"></small>
                            </div>
                            <div class="d-flex justify-content-between align-items-center mt-3">
                                <button class="btn btn-primary btn-sm"><i class="bi bi-cart-plus"></i> 加入购物车</button>
                                <a href="#" class="btn btn-outline-secondary btn-sm"><i class="bi bi-heart"></i></a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-3 mb-4">
                    <div class="card h-100 position-relative">
                        <span class="badge-sale">新品</span>
                        <img src="https://via.placeholder.com/300x200" class="card-img-top" alt="商品图片">
                        <div class="card-body">
                            <h5 class="card-title">智能手表</h5>
                            <p class="card-text">多功能健康监测，运动追踪，支持多种消息提醒...</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <p class="text-danger fw-bold mb-0">¥ 399.00</p>
                                <small class="text-muted"></small>
                            </div>
                            <div class="d-flex justify-content-between align-items-center mt-3">
                                <button class="btn btn-primary btn-sm"><i class="bi bi-cart-plus"></i> 加入购物车</button>
                                <a href="#" class="btn btn-outline-secondary btn-sm"><i class="bi bi-heart"></i></a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-3 mb-4">
                    <div class="card h-100 position-relative">
                        <span class="badge-sale">热销</span>
                        <img src="https://via.placeholder.com/300x200" class="card-img-top" alt="商品图片">
                        <div class="card-body">
                            <h5 class="card-title">便携充电宝</h5>
                            <p class="card-text">大容量，快速充电，轻薄便携设计...</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <p class="text-danger fw-bold mb-0">¥ 149.00</p>
                                <small class="text-muted text-decoration-line-through">¥ 199.00</small>
                            </div>
                            <div class="d-flex justify-content-between align-items-center mt-3">
                                <button class="btn btn-primary btn-sm"><i class="bi bi-cart-plus"></i> 加入购物车</button>
                                <a href="#" class="btn btn-outline-secondary btn-sm"><i class="bi bi-heart"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<!-- 页脚 (始终在底部) -->
<footer th:insert="~{commons/commons :: footer}"
        style="
               bottom: 0;
               left: 0;
               width: 100%;
               z-index: 1040;  /* 高于侧边栏的z-index */
              "> <!-- 添加背景色确保覆盖 -->
</footer>
<!-- Bootstrap 本地 -->
<script th:src="@{/js/bootstrap.bundle.min.js}"></script>
<!-- jQuery -->
<script th:src="@{/js/jquery-3.7.1.min.js}"></script>
<!-- 自定义脚本 -->
<script th:src="@{/js/script.js}"></script>

</body>

</html>
